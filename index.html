<!doctype html>
<html lang="en" id="html" data-theme="dark">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- To include Font Awesome Icons, from MDBootstrap -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
		
		<!-- To include PicoCSS Framework -->
		<link rel="stylesheet" href="./css/pico.css">
		
		<!-- To include custom css -->
		<link rel="stylesheet" href="./css/custom.css">
		<title>PicoChat</title>
	</head>
	
	<body id="body">
		<!-- Nav Bar -->
		<nav class="container-fluid">
			<ul>
				<li><h3>PicoChat</h3></li>
			  </ul>
			<ul>
				<li role="list" dir="rtl">
					<a href="#" aria-haspopup="listbox" class="secondary">Theme</a>
					<ul role="listbox">
						<li onclick="document.getElementById('html').setAttribute('data-theme', 'dark')"><a>Dark</a></li>
						<li onclick="document.getElementById('html').setAttribute('data-theme', 'light')"><a>Light</a></li>
					</ul>
				  </li>
			</ul>
		</nav>
		
		<!-- To display "Hello" followed by username -->
		<p class="container-fluid" id="name-display">Hello</p>
		
		<!-- Message box -->
		<main class="container">
				<article class="secondary" id="message-box">
					<!-- Messages are displayed here -->
				</article>
		</main>
		
		<!-- Container to enter new message-->
		<main class="container msg-container">
			<form id="msg-form">
				<input type="text" placeholder="Enter the message" id="msg" style="width:80%;">
				<button type="submit" style="display:inline;min-width:fit-content; width: calc(20% - 6px)"><i class='fas fa-paper-plane'></i></button>
			</form>
		</main>

		<!-- This opens a small dialog box in begining to accept user's name -->
		<dialog id="dia" open>
			<form onsubmit="getName();return false;">
			<article>
				<h3>Enter your name</h3>
			  		<input type="text" style="width:100%" placeholder="Name" id="name" required>
			  		<footer>
						<button type="submit">Confirm</a>
			  		</footer>
			</article>
			</form>
		</dialog>
		
		<!-- This script saves the user's name from the above dialog and displays it-->
		<script>
			function getName() {
				user_name=document.getElementById('name').value;
				document.getElementById('dia').setAttribute('open',false)
				document.getElementById('name-display').innerHTML= "Hello " + user_name
			}
		</script>
		
		<!-- To include firebase SDK -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
		
		<!-- To initialize firebase realtime database -->
		<script src="./initdb.js"></script>
		
		<!-- Backend file to send message -->
		<script src="./sendmsg.js"></script>
		
		<!-- Backend file to display message -->
		<script src="./getmsg.js"></script>
	
	</body>

</html>